---
{"dg-publish":true,"permalink":"/Code/5.Go/Go.0a1.基础数据类型/","title":"基础数据类型","noteIcon":""}
---


# 基础数据类型

| 类型          | 名称     | 长度 | 零值  | 说明                                       |
| ------------- | -------- | ---- | ----- | ------------------------------------------ |
| bool          | 布尔类型 | 1    | false |                                            |
| byte          | 字节型   | 1    | 0     | uint8别名                                  |
| rune          | 字符类型 | 4    | 0     | 专用于存储unicode编码，等价于uint32        |
| int, uint     | 整型     | 4或8 | 0     | 32位或64位                                 |
| int8, uint8   | 整型     | 1    | 0     | -128 ~ 127, 0 ~ 255                        |
| int16, uint16 | 整型     | 2    | 0     | -32768 ~ 32767, 0 ~ 65535                  |
| int32, uint32 | 整型     | 4    | 0     | -21亿 ~ 21 亿, 0 ~ 42 亿                   |
| int64, uint64 | 整型     | 8    | 0     |                                            |
| float32       | 浮点型   | 4    | 0.0   | 小数位精确到7位                            |
| float64       | 浮点型   | 8    | 0.0   | 小数位精确到15位                           |
| complex64     | 复数类型 | 8    |       | 只有两个复数的实部和虚部都相等时它们才相等 |
| complex128    | 复数类型 | 16   |       |                                            |
| uintptr       | 整型     | 4/8  |       | ⾜以存储指针的 uint32或 uint64整数         |
| string        | 字符串   |      | ""    | utf-8字符串                                |

bool 值不会隐式转换为数字值 0 或 1，也不允许将整型强制转换为布尔型

## Byte&Rune

一个 byte 变量大小为1字节，用于表示 ACSCII 码字符，相当于 `unit8` 类型
rune 变量大小为4字节，用于表示采用 UTF-8 编码的 Unicode 字符，相当于 `int32` 类型

以 range 遍历 string 返回 rune 类型，以下标遍历返回 byte 类型

```go
var ch byte = 65      // 10进制
// ASCII
var ch byte = '\x41'  // 16进制
var ch byte = '\377'  // 8进制
// UTF-8
var ch2 int = '\u03B2'      // 4字节
var ch3 int = '\U00101234'  // 8字节
```

## 指针

### nil

nil 代表空指针

- **nil 可以作为任意指针形参的实参传入**
- **nil 可以调用所有指针方法**
- nil 标识符不能作为左值进行比较
- 不同类型的 nil 值占用的内存大小可能不同

## 输出格式化

[Go 之 格式化输出 《Go语言基础》 - 掘金 (juejin.cn)](https://juejin.cn/post/7042636455239221256)

| 格式      | 说明                                                   |
| --------- | ------------------------------------------------------ |
| %d        | 格式化整数                                             |
| %(-){n}d  | 用于规定输出定长 n 的整数，默认右对齐，-号代表左对齐   |
| %e        | 科学计数表示法                                         |
| %f        | 格式化浮点数                                           |
| %g        | 根据浮点数的大小自动选择使用 `%f` 或 `%e` 来输出浮点数 |
| %{n}.{m}g | 用于表示宽度 n 并精确到小数点后 m 位                   |
| %b        | 格式化 2 进制                                          |
| %o        | 格式化 8 进制                                          |
| %X, %x    | 格式化 16 进制表示的数字，X-字母大写                   |
| %U, %u    | Unicode，格式为 U+hhhh 的字符串                        |
| %t        | 格式化布尔型                                           |
| %c        | 格式化字符                                             |
| %s        | 格式化字符串                                           |
| %p        | 格式化指针                                             |
| %v        | 使用类型的默认输出格式的标识符                         |

调试相关格式化说明符

| 格式 | 说明                                           |
| ---- | ---------------------------------------------- |
| %T   | 打印某个类型的完整说明                         |
| %+v  | 打印包括字段在内的实例的完整信息               |
| %#v  | 打印包括字段和限定类型名称在内的实例的完整信息 |

### 字符串宽度控制

最小宽度, 不够部分可以选择补0
```go
fmt.Printf("|%s|", "aa")   // |aa|    不设置宽度
fmt.Printf("|%5s|", "aa")  // |   aa| 5个宽度,  默认右对齐
fmt.Printf("|%-5s|", "aa") // |aa   | 5个宽度, 左对齐
fmt.Printf("|%05s|", "aa") // |000aa| 5个宽度,用0补齐
```

最大宽度, 超出的部分会被截断
```go
fmt.Printf("|%.5s|", "xxxxxxx") // |xxxxx| 最大宽度为5
```

不同语言的文字宽度并不一定相同, 比如

```go
fmt.Printf("|%2s|", "中国")  // |中国|
fmt.Printf("|%2s|", "ab")   // |ab|
```

### 浮点数精度控制

```go
a := 54.123456
fmt.Printf("|%f|", a)  // |54.123456|
fmt.Printf("|%5.1f|", a)  // | 54.1|
fmt.Printf("|%-5.1f|", a) // |54.1 |
fmt.Printf("|%05.1f|", a) // |054.1|
```

### 格式化错误

类型错误或未知: `%!verb(type=value)`
```go
fmt.Printf("%d", "hi") // %!d(string=hi)
```


太多参数: `%!(EXTRA type=value)`
```go
fmt.Printf("hi", "guys") // hi%!(EXTRA string=guys)
```


太少参数: `%!verb(MISSING)`
```go
fmt.Printf("hi%d") // hi %!d(MISSING)
```

宽度/精度不是整数值: `%!(BADWIDTH) or %!(BADPREC)`
```go
fmt.Printf("%d", hi) // %!d(string=hi)
```